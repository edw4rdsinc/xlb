================================================
NFL Stats Sync - Tue Nov 18 07:00:01 AM PST 2025
================================================
Current NFL Week: 11
Syncing stats for Week: 11

Running stats sync...
============================================================
ğŸˆ XL Benefits Fantasy Football - NFL Stats Sync
============================================================
Season: 2025
Week: 11
Mode: LIVE
Time: 2025-11-18 07:00:02
============================================================

ğŸ—“ï¸  Checking for bye weeks in 2025 Week 11...
âœ… Found 2 teams on bye: IND, NO

ğŸ“Š Fetching NFL stats for 2025 Week 11 from nflreadpy...
âœ… Found 1032 players with stats for Week 11

ğŸ›¡ï¸  Aggregating team defense stats...
âœ… Aggregated defense stats for 28 teams
âœ… Combined 1032 player stats + 28 team defense stats

ğŸ” Fetching players from database...
âœ… Found 1045 players in database (34 DEF)

ğŸ”„ Transforming stats to database schema...
DEBUG: Total DEF players in db_players list: 34
DEBUG: Players with None position: 0
DEBUG match_player: Looking for 'ARI Defense'
DEBUG match_player: Found 34 DEF position matches
DEBUG match_player: First 3 names: ['Ravens', 'Falcons', 'CLE Defense']
DEBUG match_player: Looking for 'ATL Defense'
DEBUG match_player: Found 34 DEF position matches
DEBUG match_player: First 3 names: ['Ravens', 'Falcons', 'CLE Defense']
DEBUG match_player: Looking for 'PIT Defense'
DEBUG match_player: Found 34 DEF position matches
DEBUG match_player: First 3 names: ['Ravens', 'Falcons', 'CLE Defense']
âœ… Matched 386 players to database
ğŸ›¡ï¸  Matched 28 defenses: ARI Defense, ATL Defense, BAL Defense, BUF Defense, CHI Defense, CIN Defense, CLE Defense, DAL Defense, DEN Defense, DET Defense, GB Defense, HOU Defense, JAX Defense, KC Defense, LAC Defense, LAR Defense, LV Defense, MIA Defense, MIN Defense, NE Defense, NYG Defense, NYJ Defense, PHI Defense, PIT Defense, SF Defense, TB Defense, TEN Defense, WAS Defense

âš ï¸  674 players not matched:
   - Calais Campbell (DE)
   - Thomas Morstead (P)
   - Jon Weeks (LS)
   - Von Miller (OLB)
   - Cameron Heyward (DT)
   - Johnny Hekker (P)
   - Bobby Wagner (MLB)
   - Kelvin Beachum (OT)
   - Lavonte David (OLB)
   - Kevin Zeitler (G)
   ... and 664 more

ğŸ’¾ Upserting 386 records to database...
âœ… Successfully upserted 386 player stats

============================================================
âœ… SYNC COMPLETE
============================================================
Records processed: 386
Week: 11
Next steps: Go to /admin/scoring and click 'Calculate Scores'
============================================================

================================================
âœ… Stats sync completed successfully
   Week 11 stats imported to Supabase

Running score calculation...
============================================================
ğŸˆ XL Benefits Fantasy Football - Score Calculation
============================================================
Season: 2025
Week: 11
Mode: LIVE
Time: 2025-11-18 07:00:04
============================================================

ğŸ“‹ Fetching all lineups from database...
âœ… Found 4 lineups
ğŸ“Š Fetching player stats for Week 11...
âœ… Found stats for 386 players

ğŸ”¢ Calculating scores for 4 lineups...
âœ… Calculated scores for 4 lineups

ğŸ“ˆ Calculating cumulative scores...
âœ… Found Round 2 (Weeks 7-12)
âœ… Calculated cumulative scores

ğŸ’¾ Upserting 4 score records to database...
âœ… Successfully upserted 4 score records

============================================================
âœ… SCORE CALCULATION COMPLETE
============================================================
Lineups processed: 4
Week: 11
Next steps: Scores are now visible to users via their magic links
============================================================


================================================
âœ… Score calculation completed successfully
   Week 11 scores calculated for all lineups
