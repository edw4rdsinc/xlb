================================================
NFL Stats Sync - Thu Oct 30 04:01:01 PM PDT 2025
================================================
Current NFL Week: 9
Syncing stats for Week: 8

Running stats sync...
============================================================
ğŸˆ XL Benefits Fantasy Football - NFL Stats Sync
============================================================
Season: 2025
Week: 8
Mode: LIVE
Time: 2025-10-30 16:01:02
============================================================

ğŸ—“ï¸  Checking for bye weeks in 2025 Week 8...
âœ… Found 6 teams on bye: ARI, DET, JAX, LA, LV, SEA

ğŸ“Š Fetching NFL stats for 2025 Week 8 from nflreadpy...
âœ… Found 892 players with stats for Week 8

ğŸ›¡ï¸  Aggregating team defense stats...
âœ… Aggregated defense stats for 1 teams
âœ… Combined 892 player stats + 1 team defense stats

ğŸ” Fetching players from database...
âœ… Found 1000 players in database

ğŸ”„ Transforming stats to database schema...
Traceback (most recent call last):
  File "/home/sam/Documents/github-repos/xlb/xlb/scripts/sync_nfl_stats.py", line 474, in <module>
    main()
  File "/home/sam/Documents/github-repos/xlb/xlb/scripts/sync_nfl_stats.py", line 458, in main
    records = transform_stats_to_schema(combined_stats, db_players, args.week, bye_teams)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sam/Documents/github-repos/xlb/xlb/scripts/sync_nfl_stats.py", line 329, in transform_stats_to_schema
    'interceptions': int(row.get('interceptions', 0) or 0),
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: cannot convert float NaN to integer

================================================
âŒ Stats sync failed with exit code: 
   Check log file: /home/sam/Documents/github-repos/xlb/xlb/logs/stats-sync-2025-10-30.log
================================================
NFL Stats Sync - Thu Oct 30 04:01:51 PM PDT 2025
================================================
Current NFL Week: 9
Syncing stats for Week: 8

Running stats sync...
============================================================
ğŸˆ XL Benefits Fantasy Football - NFL Stats Sync
============================================================
Season: 2025
Week: 8
Mode: LIVE
Time: 2025-10-30 16:01:52
============================================================

ğŸ—“ï¸  Checking for bye weeks in 2025 Week 8...
âœ… Found 6 teams on bye: ARI, DET, JAX, LA, LV, SEA

ğŸ“Š Fetching NFL stats for 2025 Week 8 from nflreadpy...
âœ… Found 892 players with stats for Week 8

ğŸ›¡ï¸  Aggregating team defense stats...
âœ… Aggregated defense stats for 1 teams
âœ… Combined 892 player stats + 1 team defense stats

ğŸ” Fetching players from database...
âœ… Found 1000 players in database

ğŸ”„ Transforming stats to database schema...
âœ… Matched 306 players to database

âš ï¸  587 players not matched:
   - Thomas Morstead (P)
   - Cameron Jordan (DE)
   - Cameron Heyward (DT)
   - Nick Bellore (LB)
   - Johnny Hekker (P)
   - Bobby Wagner (MLB)
   - Lavonte David (OLB)
   - Harrison Smith (FS)
   - Demario Davis (OLB)
   - Greg Van Roten (G)
   ... and 577 more

ğŸ’¾ Upserting 306 records to database...
âœ… Successfully upserted 306 player stats

============================================================
âœ… SYNC COMPLETE
============================================================
Records processed: 306
Week: 8
Next steps: Go to /admin/scoring and click 'Calculate Scores'
============================================================

================================================
âœ… Stats sync completed successfully
   Week 8 stats imported to Supabase
================================================
NFL Stats Sync - Thu Oct 30 04:19:45 PM PDT 2025
================================================
Current NFL Week: 9
Syncing stats for Week: 8

Running stats sync...
============================================================
ğŸˆ XL Benefits Fantasy Football - NFL Stats Sync
============================================================
Season: 2025
Week: 8
Mode: LIVE
Time: 2025-10-30 16:19:46
============================================================

ğŸ—“ï¸  Checking for bye weeks in 2025 Week 8...
âœ… Found 6 teams on bye: ARI, DET, JAX, LA, LV, SEA

ğŸ“Š Fetching NFL stats for 2025 Week 8 from nflreadpy...
âœ… Found 892 players with stats for Week 8

ğŸ›¡ï¸  Aggregating team defense stats...
âœ… Aggregated defense stats for 1 teams
âœ… Combined 892 player stats + 1 team defense stats

ğŸ” Fetching players from database...
âœ… Found 1000 players in database

ğŸ”„ Transforming stats to database schema...
âœ… Matched 306 players to database

âš ï¸  587 players not matched:
   - Thomas Morstead (P)
   - Cameron Jordan (DE)
   - Cameron Heyward (DT)
   - Nick Bellore (LB)
   - Johnny Hekker (P)
   - Bobby Wagner (MLB)
   - Lavonte David (OLB)
   - Harrison Smith (FS)
   - Demario Davis (OLB)
   - Greg Van Roten (G)
   ... and 577 more

ğŸ’¾ Upserting 306 records to database...
âœ… Successfully upserted 306 player stats

============================================================
âœ… SYNC COMPLETE
============================================================
Records processed: 306
Week: 8
Next steps: Go to /admin/scoring and click 'Calculate Scores'
============================================================

================================================
âœ… Stats sync completed successfully
   Week 8 stats imported to Supabase

Running score calculation...
============================================================
ğŸˆ XL Benefits Fantasy Football - Score Calculation
============================================================
Season: 2025
Week: 8
Mode: LIVE
Time: 2025-10-30 16:19:48
============================================================

ğŸ“‹ Fetching all lineups from database...
âœ… Found 5 lineups
ğŸ“Š Fetching player stats for Week 8...
âœ… Found stats for 324 players

ğŸ”¢ Calculating scores for 5 lineups...
âœ… Calculated scores for 5 lineups

ğŸ“ˆ Calculating cumulative scores...
âœ… Found Round 2 (Weeks 7-12)
âœ… Calculated cumulative scores

ğŸ’¾ Upserting 5 score records to database...
âœ… Successfully upserted 5 score records

============================================================
âœ… SCORE CALCULATION COMPLETE
============================================================
Lineups processed: 5
Week: 8
Next steps: Scores are now visible to users via their magic links
============================================================


================================================
âœ… Score calculation completed successfully
   Week 8 scores calculated for all lineups
